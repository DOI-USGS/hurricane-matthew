vizlab: "0.1.4"
info:
  id: hurricane-matthew
  name: A look at Hurricane Matthew
  date: 2016-10-06
  path: /hurricane-matthew
  analytics-id: UA-78530187-4
  description: >-
    Bringing together a couple different sources of data
    to look at the effects of Hurricane Matthew on the
    Southeast United States Coast.
  keywords: >-
    water, hurricane, matthew, USGS, NOAA, VIZLAB
  thumbnail:    
    url: !NEED TO MAKE THIS THUMBNAIL!
    width: 250
    height: 250
    alttext: Hurricane Matthew
fetch:
  -
    id: counties
    location: cache/counties.zip
    reader: shp
    fetcher: counties
    refetch: false
    mimetype: application/zip
  -
    id: states
    location: cache/states.zip
    reader: shp
    fetcher: states
    refetch: false
    mimetype: application/zip
  -
    id: matthew-track
    location: cache/matthew.zip
    ocean: al
    stormnum: 14
    year: 2016
    reader: shp
    fetcher: hurricaneTrack
    mimetype: application/zip
    metadata: "Updates every 6 hours on http://www.nhc.noaa.gov/gis/"
    refetch: false
    comment: disabling refetch until timestamp is hooked up
  -
    id: flowlines
    fetcher: flowlines
    location: cache/nhdflowline_network.zip
    mapRange: [-88.132324, -75.432129, 24.994771,36.482036]
    streamorder: 6
    reader: shp
    mimetype: application/zip
    refetch: false
    comment: disabling refetch for now, delete cache to update
  -
    id: precip-data
    fetcher: precip
    location: cache/precip.csv
    mimetype: text/csv
    refetch: false
    comment: disabling refetch to avoid too many GDP requests
  -
    id: discharge-data
    fetcher: discharge
    location: cache/discharge.csv
    mimetype: text/csv
    refetch: false
    comment: disabling refetch for now, re-enable to get updates to work
process:
  -
    id: matthew-counties
    location: cache/matthew-counties.rds
    processor: matthew_counties
    reader: rds
    depends: "counties"
  -
    id: matthew-states
    location: cache/matthew-states.rds
    processor: matthew_states
    reader: rds
    depends: "states"
  -
    id: matthew-flowlines
    location: cache/matthew-flowlines.rds
    processor: flowlines
    reader: rds
    depends: ["flowlines","matthew-counties"]
  -
    id: discharge-classify
    location: cache/discharge-w-class.rds
    processor: classify
    reader: rds
    depends: "discharge-data"
  -
    id: precip-colors
    location: cache/precip-colors.json
    processor: precip_colors
    bins: 9
    pallete: "Blues"
visualize:
  -
    id: matthew-map
    location: figures/matthew-water.svg
    visualizer: matthew_map
    depends: ["matthew-counties","matthew-flowlines", "matthew-states"]
    mapdata: "matthew-counties"
    mimetype: image/svg+xml
    inline: true
    title: "title..."
    alttext: "alt text..."
publish:
  -
    id: matthew-page
    name: index
    template: fullPage
    publisher: page
    depends: ["figure-section", "svg-css"]
    context:
      resources: ["svg-css"]
      sections: [ "figure-section"]
  -
    id: figure-section
    template: simplefigure
    publisher: section
    depends: [ "matthew-map" ]
    context:
      id: map-figure
      figure: matthew-map
      caption: Precipitation from Hurricane Matthew
  -
    id: svg-css
    location: layout/css/matthew-svg.css
    mimetype: text/css
